---
 src/vmmouse.c |   10 ++++++++++
 1 file changed, 10 insertions(+)

Index: xserver-xorg-input-vmmouse/src/vmmouse.c
===================================================================
--- xserver-xorg-input-vmmouse.orig/src/vmmouse.c	2008-05-28 22:14:24.000000000 +0200
+++ xserver-xorg-input-vmmouse/src/vmmouse.c	2008-05-28 22:25:29.000000000 +0200
@@ -968,12 +968,15 @@
 static void
 GetVMMouseMotionEvent(InputInfoPtr pInfo){
    MouseDevPtr pMse;
+   VMMousePrivPtr mPriv;
    int buttons, dx, dy, dz, dw;
+   double factorX, factorY;
    VMMOUSE_INPUT_DATA  vmmouseInput;
    int ps2Buttons = 0;
    int numPackets;
 
    pMse = pInfo->private;
+   mPriv = pMse->mousePriv;
    while((numPackets = VMMouseClient_GetInput(&vmmouseInput))){
       if (numPackets == VMMOUSE_ERROR) {
          VMMouseClient_Disable();
@@ -998,6 +1001,13 @@
       dy = vmmouseInput.Y;
       dz = (char)vmmouseInput.Z;
       dw = 0;
+      /* scale the input data based on the screen dimensions */
+      factorX = ((double) screenInfo.screens[mPriv->screenNum]->width) / (double) 65535;
+      factorY = ((double) screenInfo.screens[mPriv->screenNum]->height) / (double) 65535;
+
+      dx = dx * factorX + 0.5;
+      dy = dy * factorY + 0.5;
+
       /* post an event */
       pMse->PostEvent(pInfo, buttons, dx, dy, dz, dw);
    }
